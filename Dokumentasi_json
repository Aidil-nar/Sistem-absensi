kode input
{
    "name": "AMBALABU",
    "email": "sha3005dm@gmail.com",
    "role": "Karyawan",
    "password": "Password123!",
    "password_confirmation": "Password123!"
}

Kondisi sukses

{
    "message": "Registrasi berhasil! Silakan cek email untuk kode verifikasi.",
    "status": "sukses",
    "registerResult": {
        "email": "user@example.com",
        "namaPelanggan": "Nama Lengkap Pengguna",
        "token_verifikasi": "aJ5f...random_string...L9p1",
        "otp": "123456"
    }
}

Respons Gagal (422 Unprocessable Entity - Validasi Gagal):

{
    "message": "The given data was invalid.",
    "errors": {
        "email": [
            "The email has already been taken."
        ],
        "password": [
            "The password confirmation does not match."
        ]
    }
}

Respons Gagal (500 Internal Server Error - Email Gagal Terkirim):
{
    "message": "Gagal mengirim email verifikasi."
}



POST /verify-otp
Deskripsi: Tahap kedua registrasi. Memverifikasi OTP yang diterima untuk menyelesaikan pembuatan akun. Akun yang baru dibuat akan berstatus non-aktif menunggu persetujuan admin.



{
  "Authorization": "Bearer {token_verifikasi_dari_register}",
  "Accept": "application/json"
}

{
    "otp": "123456"
}

Respons Sukses (201 Created):

{
    "status": "success",
    "message": "Verifikasi berhasil. Akun Anda sedang menunggu persetujuan admin.",
    "data": {
        "name": "AMBALABU",
        "email": "sha3005dm@gmail.com",
        "role": "Karyawan",
        "updated_at": "2025-09-08T02:47:03.000000Z",
        "created_at": "2025-09-08T02:47:03.000000Z",
        "id": 6
    }
}
Respons Gagal (422 Unprocessable Entity - OTP Salah):


{
    "message": "Kode OTP tidak valid atau token telah kedaluwarsa."
}

Respons Gagal (401 Unauthorized - Token Tidak Ditemukan):
{
    "message": "Token verifikasi tidak ditemukan."
}


POST /login
Deskripsi: Mengautentikasi pengguna dan memberikan token akses (Bearer Token) jika berhasil.

Body Request:
{
    "email": "user.aktif@example.com",
    "password": "password123"
}

Respons Sukses (200 OK):
{
    "status": "success",
    "message": "Login berhasil",
    "data": {
        "user": {
            "id": 15,
            "name": "Nama Pengguna Aktif",
            "email": "user.aktif@example.com",
            "role": "employee",
            "is_active": true
        },
        "token": "1|aBcDeFgHiJkLmNoPqRsTuVwXyZ"
    }
}


Respons Gagal (401 Unauthorized - Kredensial Salah):

{
    "message": "Email atau Password yang diberikan salah."
}

Respons Gagal (403 Forbidden - Akun Belum Aktif):
{
    "message": "Akun Anda belum aktif. Silakan hubungi administrator."
}

